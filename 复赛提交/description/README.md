# 编程思路

医疗影像数据分辨率大，比赛提供的数据集分辨率在几万以上。现有神经网络主要处理小分辨率数据，如224*224。

因此本队尝试对数据进行预处理，对专业医生给出的标注框中的图片信息进行裁剪。将该问题转换为常规分类问题。

## 数据预处理

选取json标注框内区域生成patch。
* scale：2.5
* 大小：512*512
* 图像区域有色部分大于0.1进行采样，否则放弃。为筛除坏图，有色部分大于0.95的放弃(可能为全黑，导致loss为无穷)
* 每个annotation框内的采样数：
  * T0 40 T0没有标注框，随机选取位置进行采样
  * T1 T2 T3 Tis 40
  * Test  40

## 模型选择

convnext-base 做分类

数据集尺寸 512*512

epoch 50

batch size 8

learning rate 0.0005

weight_decay 0.05

# 特色亮点

自定义图片切割方案
* 筛选掉无用信息，对脏数据具有鲁棒性。
* 保证在专业标注框范围内，尽可能多的提取数据。提升模型鲁棒性。

使用目前分类效果最好的ConvNeXt卷积网络。

# 编程语言

python 3.7

# 软件运行环境

Linux

依赖包在官方基础镜像上添加 pytorch 和 tensorboard。详见 requirement.txt

# 硬件配置环境

GPU 或 CPU

# 运行说明

main函数中引用了code代码中的图片预处理(对 T1 T2 T3 Tis 数据裁剪、对 T0 裁剪、对 Test 裁剪)、训练和预测代码。

主要需要注意的就是各个文件的读取路径在各函数中手动定义。